<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/css/bootstrap-select.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/js/bootstrap-select.min.js"></script>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/3.2.1/math.min.js"></script>
  <script src= "https://d3js.org/d3.v4.min.js"></script>  
  <script src= "https://d3js.org/d3-color.v1.min.js"></script>  
  <script src= "https://d3js.org/d3-interpolate.v1.min.js"></script>  
  <script src= "https://d3js.org/d3-scale-chromatic.v1.min.js"></script>  
  <link rel="stylesheet" href="style.css" type="text/css" />

<script>

function roundToTwo(num) {    
    return +(Math.round(num + "e+1")  + "e-1");
}

// READ IN THE DATA
Plotly.d3.csv("https://raw.githubusercontent.com/cieb-unibas/inventor_ethnicity/main/report/plot3_df.csv", function(err, rows){
  function unpack(rows, key) {
        return rows.map(function(row) { return row[key]; });
    }
    
// DEFINE VARIABLES FOR PLOTTING
  var year = unpack(rows, 'year'),
      immigrants = unpack(rows, 'immigrants'),
      country_name = unpack(rows, 'country_name');


// DEFINE THE PLOT
  var trace1 = {
            x: country_name,
            y: immigrants,
            name: '1990'
            type: 'bar',
            }],
  };
  
  var data = [trace1]; // DEFINE THE DATA
  
  var layout = {
    scrollZoom: false,
    autosize: true,
    hovermode: "closest",
    margin: {
      l: 100,
      r: 10,
      b: 100,
      t: 20
    },

   xaxis: {
    title: '<b>Country</b>',
    zeroline: false,
    showaxis: true,
    showline: false,
    ticks: 'outside',
    showgrid: false
  },
  
  yaxis: {
          title: '<b>Number of Immigrants Inventors</b>',
          zeroline: false,
          showaxis: false,
          showline: false,
          ticks: 'outside',
          showgrid: false
        }
    
  };


Plotly.newPlot('myDiv', data, layout, {displayModeBar: false});
};

</script>
</head>

<!-- DISPLAY THE PLOT -->
</body>
<div id='myDiv'></div>
</body>